# XPathAi
–†–∞—Å—à–∏—Ä–µ–Ω–∏–µ –¥–ª—è Chrome —Å —Å–µ—Ä–≤–µ—Ä–Ω–æ–π —á–∞—Å—Ç—å—é –Ω–∞ FastAPI, —É–ø—Ä–æ—â–∞—é—â–µ–µ –ø–æ–∏—Å–∫ —É—Å—Ç–æ–π—á–∏–≤—ã—Ö XPath-–ª–æ–∫–∞—Ç–æ—Ä–æ–≤ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º AI-—Å–µ—Ä–≤–∏—Å–æ–≤.

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

- **extension/**
  - `contentScript.js` ‚Äì –∫–æ–¥ –¥–ª—è –ø–æ–¥—Å–≤–µ—Ç–∫–∏ –∏ –≤—ã–±–æ—Ä–∞ —ç–ª–µ–º–µ–Ω—Ç–æ–≤
  - `background.js` ‚Äì —Ñ–æ–Ω–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –¥–∞–Ω–Ω—ã—Ö –Ω–∞ —Å–µ—Ä–≤–µ—Ä
  - `popup/` ‚Äì –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è
  - `options.html`, `options.js`, `options.css` ‚Äì –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è

- **backend/**
  - `main.py` ‚Äì FastAPI –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ XPath
  - `requirements.txt` ‚Äì –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ Python
  - `prompt_template/2.txt` ‚Äì –ø—Ä–æ–º–ø—Ç –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –æ—Ç–≤–µ—Ç–∞
  - `docker-compose.yml` ‚Äì –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Docker Compose

## –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ

1. –ü–æ –∫–ª–∏–∫—É –Ω–∞ ¬´üîç –í—ã–±—Ä–∞—Ç—å —ç–ª–µ–º–µ–Ω—Ç¬ª `popup.js` –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ `contentScript.js`.
2. `contentScript.js` –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –Ω–∞–≤–µ–¥–µ–Ω–∏–µ –º—ã—à–∏ –∏ –∫–ª–∏–∫ –Ω–∞ —ç–ª–µ–º–µ–Ω—Ç, –ø–æ–¥—Å–≤–µ—á–∏–≤–∞—è –µ–≥–æ.
3. –ü–æ—Å–ª–µ –≤—ã–±–æ—Ä–∞ —ç–ª–µ–º–µ–Ω—Ç–∞ `contentScript.js` –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –≤—ã–±—Ä–∞–Ω–Ω—ã–π —ç–ª–µ–º–µ–Ω—Ç –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã DOM –≤ `background.js`.
4. `background.js` –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —ç—Ç–∏ –¥–∞–Ω–Ω—ã–µ POST–æ–º –Ω–∞ —Å–µ—Ä–≤–µ—Ä `main.py` –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ XPath.
5. `main.py` –¥–æ–±–∞–≤–ª—è–µ—Ç –∫  —à–∞–±–ª–æ–Ω –ø—Ä–æ–º–ø—Ç–∞ `prompt_template/2.txt`, –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –≤ AI, –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –æ—Ç–≤–µ—Ç.
6. `background.js` –ø–æ–ª—É—á–∞–µ—Ç –æ—Ç–≤–µ—Ç –æ—Ç —Å–µ—Ä–≤–µ—Ä–∞ –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –µ–≥–æ –æ–±—Ä–∞—Ç–Ω–æ –≤ `popup.js`.
7. `popup.js` –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π XPath –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è.

## –û–∫—Ä—É–∂–µ–Ω–∏–µ

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –≤ –ø–∞–ø–∫–µ `backend` –∏ —É–∫–∞–∂–∏—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:
```env
API_URL=<URL AI —Å–µ—Ä–≤–∏—Å–∞>
API_KEY=<API –∫–ª—é—á>
MODEL_NAME=<–ù–∞–∑–≤–∞–Ω–∏–µ –º–æ–¥–µ–ª–∏>
```
–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–ª–æ—Å—å –Ω–∞:
- THUDM/glm-4-9b-chat
- deepseek-ai/DeepSeek-R1-Distill-Qwen-7B
- Qwen/Qwen2.5-Coder-7B-Instruct

## –ó–∞–ø—É—Å–∫ –±—ç–∫–µ–Ω–¥–∞ –≤ Docker

1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω Docker –∏ docker-compose.  
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞ –µ—Å—Ç—å —Ñ–∞–π–ª `.env`.  
3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ:
   ```bash
   docker-compose build
   docker-compose up -d
   ```

## –ó–∞–ø—É—Å–∫ –±—ç–∫–µ–Ω–¥–∞ –ª–æ–∫–∞–ª—å–Ω–æ (–≤ venv)

1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞ –µ—Å—Ç—å —Ñ–∞–π–ª `.env`.
2. –°–æ–∑–¥–∞–π—Ç–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ –∏ –∞–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ –µ–≥–æ:
   ```bash
   python -m venv .venv
   .\.venv\Scripts\activate
   ```
3. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
   ```bash
   pip install -r backend/requirements.txt
   ```
4. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä:
   ```bash
   cd backend
   uvicorn main:app --reload --port 8000
   ```

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è

1. –í Google Chrome –æ—Ç–∫—Ä–æ–π—Ç–µ ¬´–†–∞—Å—à–∏—Ä–µ–Ω–∏—è¬ª ‚Üí ¬´–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è–º–∏¬ª –∏ –≤–∫–ª—é—á–∏—Ç–µ ¬´–†–µ–∂–∏–º —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞¬ª.
2. –ù–∞–∂–º–∏—Ç–µ ¬´–ó–∞–≥—Ä—É–∑–∏—Ç—å —Ä–∞—Å–ø–∞–∫–æ–≤–∞–Ω–Ω–æ–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ¬ª –∏ —É–∫–∞–∂–∏—Ç–µ –ø–∞–ø–∫—É `extension`.

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

1. –û—Ç–∫—Ä–æ–π—Ç–µ –≤–µ–±-—Å—Ç—Ä–∞–Ω–∏—Ü—É, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–π —Ö–æ—Ç–∏—Ç–µ –Ω–∞–π—Ç–∏ XPath.
2. –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É ¬´üîç –í—ã–±—Ä–∞—Ç—å —ç–ª–µ–º–µ–Ω—Ç¬ª –≤ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–∏.
3. –ù–∞–≤–µ–¥–∏—Ç–µ –∫—É—Ä—Å–æ—Ä –Ω–∞ —ç–ª–µ–º–µ–Ω—Ç –∏ –∫–ª–∏–∫–Ω–∏—Ç–µ –¥–ª—è –≤—ã–±–æ—Ä–∞.
4. –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–∏—Ç –¥–∞–Ω–Ω—ã–µ –Ω–∞ –±—ç–∫–µ–Ω–¥, –∫–æ—Ç–æ—Ä—ã–π —Å–≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –æ—Ç–≤–µ—Ç –∏ XPath.
5. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ XPath –∫–ª–∏–∫–æ–º –ø–æ –ø–æ–ª—é –¥–ª—è –¥–∞–ª—å–Ω–µ–π—à–µ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è.

## –õ–∏—Ü–µ–Ω–∑–∏—è

–ü—Ä–æ–µ–∫—Ç —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è–µ—Ç—Å—è ¬´–∫–∞–∫ –µ—Å—Ç—å¬ª. –í–Ω–µ—Å–∏—Ç–µ –ª—é–±—ã–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –∏–ª–∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è –ø–æ —Å–≤–æ–µ–º—É —É—Å–º–æ—Ç—Ä–µ–Ω–∏—é.